// menu bar

const menu_btn = document.getElementById("menu-btn");
const top_menu = document.getElementById("top-menu");

  


  menu_btn.addEventListener("click", () =>{
    top_menu.classList.toggle("toggle")
  })





$(window).on("load", function () {
  var e = $(".preloader");
  e.find(".spinner").fadeOut(function () {
    e.fadeOut();
  });
}),
  $(function () {
    "use strict";
    var t,
      n,
      i,
      l,
      d,
      u,
      h,
      m,
      a = $(window).width(),
      v = $(window).height(),
      e = $(".container"),
      o = $(".card-inner"),
      f = e.data("animation-in"),
      c = e.data("animation-out"),
      s = window.location.hash;
    $(s).length &&
      $("body").hasClass("home") &&
      $('.top-menu a[href$="' + s + '"]').length &&
      r($('.top-menu a[href$="' + s + '"]')),
      $("body").hasClass("home") || $(".top-menu li").removeClass("active"),
      $(".top-menu").on("click", "a", function () {
        r($(this));
      });
    function r(t) {
      var s,
        a,
        r,
        l,
        d,
        h,
        i = $(window).width(),
        u = t.attr("href"),
        n = !1;
      if (
        ($("body").hasClass("home") &&
          ((r = u.substring(u.indexOf("#") + 1)), (n = "#" + r)),
        n && $(n).length)
      )
        return (
          (l = parseFloat($(n).offset().top)),
          (s = $(n)),
          (d = $(".top-menu li")),
          (a = t.closest("li")),
          (h = $('.lnks .lnk[href="#contacts-card"]')),
          i >= 1024 &&
            !a.hasClass("active") & (i > 1023) & $("#home-card").length &&
            (d.removeClass("active"),
            e.find(o).removeClass("animated " + f),
            $(e).hasClass("opened") && e.find(o).addClass("animated " + c),
            a.addClass("active"),
            e.addClass("opened"),
            e.find(s).removeClass("animated " + c),
            e.find(s).addClass("animated " + f),
            $(o).addClass("hidden"),
            $(s).removeClass("hidden"),
            $(s).addClass("active")),
          (i < 1024) & $("#home-card").length &&
            $("body,html").animate({ scrollTop: l - 76 }, 800),
          !1
        );
    }
    

      !$(".page").hasClass("new-skin") &&
        a > 1024 &&
        $(".card-inner .card-wrap").slimScroll({ height: "570px" }),
      (n = $(".grid-items")),
      n.imagesLoaded(function () {
        n.isotope({ percentPosition: !0, itemSelector: ".grid-item" });
      }),
      $(".filter-button-group").on("click", ".f_btn", function () {
        var e = $(this).find("input").val();
        n.isotope({ filter: "." + e }),
          $(".filter-button-group .f_btn").removeClass("active"),
          $(this).addClass("active");
      }),
      /\.(?:jpg|jpeg|gif|png)$/i.test(
        $(".gallery-item:first a").attr("href")
      ) &&
        $(".gallery-item a").magnificPopup({
          gallery: { enabled: !0 },
          type: "image",
          closeBtnInside: !1,
          mainClass: "mfp-fade",
        }),
      $(".has-popup-media").magnificPopup({
        type: "inline",
        overflowY: "auto",
        closeBtnInside: !0,
        mainClass: "mfp-fade popup-box-inline",
      }),
      $(".has-popup-image").magnificPopup({
        type: "image",
        closeOnContentClick: !0,
        mainClass: "mfp-fade",
        image: { verticalFit: !0 },
      }),
      $(".has-popup-video").magnificPopup({
        disableOn: 700,
        type: "iframe",
        iframe: {
          patterns: {
            youtube_short: {
              index: "youtu.be/",
              id: "youtu.be/",
              src: "https://www.youtube.com/embed/%id%?autoplay=1",
            },
          },
        },
        removalDelay: 160,
        preloader: !1,
        fixedContentPos: !1,
        mainClass: "mfp-fade",
        callbacks: {
          markupParse: function (e) {
            e.find("iframe").attr("allow", "autoplay");
          },
        },
      }),
      $(".has-popup-music").magnificPopup({
        disableOn: 700,
        type: "iframe",
        removalDelay: 160,
        preloader: !1,
        fixedContentPos: !1,
        mainClass: "mfp-fade",
      }),
      $(".has-popup-gallery").on("click", function () {
        var e = $(this).attr("href");
        return (
          $(e)
            .magnificPopup({
              delegate: "a",
              type: "image",
              closeOnContentClick: !1,
              mainClass: "mfp-fade",
              removalDelay: 160,
              fixedContentPos: !1,
              gallery: { enabled: !0 },
            })
            .magnificPopup("open"),
          !1
        );
      }),
      $("#cform").validate({
        ignore: ".ignore",
        rules: {
          name: { required: !0 },
          message: { required: !0 },
          email: { required: !0, email: !0 },
          hiddenRecaptcha: {
            required: function () {
              return grecaptcha.getResponse() == "";
            },
          },
        },
        success: "valid",
        submitHandler: function () {
          return !0;
          $("#cform")
            .find(
              'input[type="text"], input[type="email"], input[type="tel"], textarea'
            )
            .val("");
        },
      }),
      $("#comment_form").validate({
        rules: { name: { required: !0 }, message: { required: !0 } },
        success: "valid",
        submitHandler: function () {},
      }),
      $("#map").length &&
        ((l = $("#map").data("lat")),
        (d = $("#map").data("long")),
        (u = $("#map").data("zoom")),
        initMap(l, d, u)),
      (h = $(".revs-carousel.default-revs .owl-carousel")),
      h.owlCarousel({
        margin: 0,
        items: 1,
        autoplay: !1,
        autoplayTimeout: 5e3,
        autoplayHoverPause: !0,
        loop: !0,
        rewind: !1,
        nav: !1,
        dots: !0,
      }),
      (m = $(".revs-carousel.rtl-revs .owl-carousel")),
      m.owlCarousel({
        margin: 0,
        items: 1,
        rtl: !0,
        autoplay: !1,
        autoplayTimeout: 5e3,
        autoplayHoverPause: !0,
        loop: !0,
        rewind: !1,
        nav: !1,
        dots: !0,
      }),
      $(window).on("resize", function () {
        var t,
          e = $(".skills-list.dotted .progress"),
          n = e.width();
        e.length && e.find(".percentage .da").css({ width: n + 1 }),
          (t = $(".revs-carousel .owl-carousel")),
          t.find(".revs-item").css({ "max-width": t.width() });
      });



      // typed text 

    function p() {
      var e = $(".skills-list.dotted .progress"),
        t = e.width();
      e.length &&
        (e.append(
          '<span class="dg"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span>'
        ),
        e
          .find(".percentage")
          .append(
            '<span class="da"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span>'
          ),
        e.find(".percentage .da").css({ width: t }));
    }

// progress bar
    setTimeout(p, 1e3),
      (i = $(".skills-list.circles .progress")),
      i.length &&
        i.append(
          '<div class="slice"><div class="bar"></div><div class="fill"></div></div>'
        ),
   
      $(".subtitle.subtitle-typed").each(function () {
        var e = $(this);
        e.typed({
          stringsElement: e.find(".typing-title"),
          backDelay: 3500,
          typeSpeed: 0,
          loop: !0,
        });
      })

    
  });


// google map


function initMap(e, t, n) {
  var s = new google.maps.LatLng(e, t),
    o = [
      {
        featureType: "water",
        stylers: [{ color: "#d8dee9" }, { visibility: "on" }],
      },
      { featureType: "landscape", stylers: [{ color: "#eeeeee" }] },
    ],
    i = {
      zoom: n,
      center: s,
      mapTypeControl: !1,
      disableDefaultUI: !0,
      zoomControl: !0,
      scrollwheel: !1,
      styles: o,
    },
    a = new google.maps.Map(document.getElementById("map"), i),
    r = new google.maps.Marker({ position: s, map: a, title: "We are here!" });
}
